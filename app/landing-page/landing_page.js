!function(t){function e(e){for(var a,d,s=e[0],i=e[1],c=e[2],l=0,f=[];l<s.length;l++)d=s[l],r[d]&&f.push(r[d][0]),r[d]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);for(u&&u(e);f.length;)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(a=!1)}a&&(o.splice(e--,1),t=d(d.s=n[0]))}return t}var a={},r={0:0},o=[];function d(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=t,d.c=a,d.d=function(t,e,n){d.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},d.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(t,e){if(1&e&&(t=d(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)d.d(n,a,function(e){return t[e]}.bind(null,a));return n},d.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="";var s=window.webpackJsonp=window.webpackJsonp||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=i;o.push([6,2]),n()}({6:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a);r()(".like-button").on("click",function(){const t=r()(this);t.toggleClass("like-button_active");const e=t.find(".like-button__icon");"favorite_border"===e.html()?e.html("favorite"):e.html("favorite_border")}),r()(".dropdown .dropdown-head").on("click",function(){r()(this).parent(".dropdown").toggleClass("dropdown_expend")});const o=r()(".range-slider"),d=r()(".range-slider__move-container"),s=r()(".range-slider__point-left"),i=r()(".range-slider__point-right"),c=r()(".range-slider__line"),u=o.attr("data-format")||"{min} - {max}",l=Number(o.attr("data-min")),f=Number(o.attr("data-max")),h=Number(o.attr("data-step")),_=(f-l)/h;function p(t){return t.offset().left-d.offset().left+s.outerWidth()/2}function m(){const t=p(s),e=p(i),n=d.width()/_,a=Math.round(t/n),r=Math.round(e/n);!function(t,e){let n=u;n=n.replace("{min}",t).replace("{max}",e),o.find(".range-slider__value").text(n)}(l+a*h,l+r*h)}function g(t){const e=function(t){return t.clientX-d.offset().left}(t),n=p(s),a=p(i),r=Math.abs(n-e),o=Math.abs(a-e),u=function(t){const e=d.width()/_;return Math.round(t/e)*e}(e);r<o?Math.round(u)!==Math.round(n)&&c.css("margin-left",u):Math.round(u)!==Math.round(a)&&c.css("margin-right",d.width()-u),m()}function b(){r()(this).off("mousemove",g)}function w(t){const e={all:0};return r()(t).find(".dropdown-item-counter").each(function(){const t=r()(this),n=Number(t.find(".dropdown-item-counter__counter-value").text()),a=t.attr("data-name");void 0===e[a]&&(e[a]=0),e[a]+=n,e.all+=n}),e}function y(t){const e=t%10,n=t%100;let a=0;return 1===e&&(n>20||1===t)&&(a=0),e>=2&&e<=4&&(a=1),(e>=5&&e<=9||0===e||n>=11&&n<=20)&&(a=2),a}function v(t,e=""){const n=r()(t);n.find(".dropdown-item-counter").each(function(){var t;t=this,(t=r()(t)).find(".dropdown-item-counter__counter-value").text("0"),t.find(".dropdown-item-counter__button-minus").addClass("button_disable")}),n.find(".dropdown-head__text").text(e)}d.mousedown(t=>{if(0!==t.button)return!1;g(t),d.mousemove(g)}),d.mouseover(t=>{if(1!==t.buttons)return!1;g(t),d.mousemove(g)}),d.mouseup(b),d.mouseleave(b),r()(".dropdown-item-counter").click(function(t){const e=r()(t.target);if(!e.hasClass("button"))return;const n=r()(this),a=n.find(".dropdown-item-counter__counter-value"),o=n.find(".dropdown-item-counter__button-minus");let d=parseInt(a.html());e.hasClass("dropdown-item-counter__button-minus")?d--:e.hasClass("dropdown-item-counter__button-plus")&&d++,d<0&&(d=0),a.html(d),d?o.removeClass("button_disable"):o.addClass("button_disable")}),r()(".checkbox-list-expend").on("click",function(t){const e=r()(t.target);(e.hasClass("checkbox-list-expend__title")||e.hasClass("checkbox-list-expend__expend-button"))&&r()(this).toggleClass("checkbox-list-expend_expend")}),r()(".dropdown-guest").click(function(t){const e=r()(this),n=r()(t.target);if(n.hasClass("dropdown-guest__button-clear"))return v(".dropdown-guest","Сколько гостей"),!0;if(n.hasClass("dropdown-guest__button-inter")){const t=w(".dropdown-guest");return e.find(".dropdown-head__text").text(function(t){if(0===t.all)return"Сколько гостей";const e=[];if(t.grown){const n=y(t.grown);e.push(`${t.grown} гост${["ь","я","ей"][n]}`)}if(t.babies){const n=y(t.babies);e.push(`${t.babies} младен${["ец","ца","цев"][n]}`)}return e.join(", ")}(t)),!0}return n.hasClass("dropdown-item-counter__button-minus")||n.hasClass("dropdown-item-counter__button-plus")?(w(".dropdown-guest").all?e.find(".dropdown-guest__button-clear").removeClass("button_hide"):e.find(".dropdown-guest__button-clear").addClass("button_hide"),!0):void 0}),r()(".dropdown-rooms").click(function(t){const e=r()(this),n=r()(t.target);if(n.hasClass("dropdown-item-counter__button-minus")||n.hasClass("dropdown-item-counter__button-plus")){const t=w(".dropdown-rooms");if(0===t.all)return!1;let n=function(t){const e=[];if(t.bedrooms){const n=y(t.bedrooms),a=`${t.bedrooms} спал${["ьня","ьни","ен"][n]}`;e.push(a)}if(t.beds){const n=y(t.beds),a=`${t.beds} кроват${["ь","и","ей"][n]}`;e.push(a)}if(t.bathrooms){const n=y(t.bathrooms);let a=`${t.bathrooms} ванн${["ая","ые","ых"][n]} `;a+=`комнат${["а","ы",""][n]}`,e.push(a)}return e.join(", ")}(t);n=n.length>21?n.slice(0,20)+"...":n.split(", ").slice(0,2).join(", ")+"...",e.find(".dropdown-head__text").text(n)}});function x(t){return JSON.stringify({year:t.getFullYear(),month:t.getMonth(),day:t.getDate()})}function k(t){t||(t=r()(".calendar"));const e=t.attr("data-range-day-start"),n=t.attr("data-range-day-end"),a={length:0};try{let t=JSON.parse(e);a.start=new Date(t.year,t.month,t.day),a.length++}catch(t){}try{let t=JSON.parse(n);a.end=new Date(t.year,t.month,t.day),a.length++}catch(t){}return a}function C(t,e=!1){t.find(".calendar__weekday").removeClass(["calendar__range-day-middle","calendar__range-day-start","calendar__range-day-end","calendar__range-day_only"]),e&&(t.attr("data-range-day-start",""),t.attr("data-range-day-end",""))}function D(t){const e=JSON.parse(t.attr("data-render-date")),n=k(t);if(0===n.length)return;const a=t.find(".calendar__weekday:not(.calendar__weekday_another-month)"),r=n.start,o=n.end;if(r&&r.getMonth()===e.month&&a.each(function(){Number(this.innerHTML)===Number(r.getDate())&&(this.classList.add("calendar__range-day-start"),1===n.length&&this.classList.add("calendar__range-day_only"))}),o&&o.getMonth()===e.month&&a.each(function(){Number(this.innerHTML)===Number(o.getDate())&&(this.classList.add("calendar__range-day-end"),1===n.length&&this.classList.add("calendar__range-day_only"))}),2===n.length){const t=new Date(e.year,e.month);a.each(function(){t.setDate(Number(this.innerHTML)),t>r&&t<o&&this.classList.add("calendar__range-day-middle")})}}function M(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");return`${String(t.getDate()).padStart(2,"0")}.${n}.${e}`}r()(".date-range").each(function(){const t=r()(this),e=t.find(".calendar"),n=t.find(".dropdown-date.start .dropdown-head__text"),a=t.find(".dropdown-date.end .dropdown-head__text");t.find(".dropdown-date").click(function(){const n=r()(this),a=n.hasClass("start")?"start":"end",o=e.attr("data-select-mode");"none"===e.css("display")?(e.css("display","block"),e.attr("data-select-mode",a),n.addClass("dropdown-date_focus")):a!==o?(e.attr("data-select-mode",a),t.find(".dropdown-date").removeClass("dropdown-date_focus"),n.addClass("dropdown-date_focus")):(e.css("display","none"),n.removeClass("dropdown-date_focus"))}),e.find(".calendar__button-enter").click(function(){const t=k(e);n.text("ДД.ММ.ГГГГ"),a.text("ДД.ММ.ГГГГ"),t.start&&n.text(M(t.start)),t.end&&a.text(M(t.end))}),e.find(".calendar__button-clear").click(function(){n.text("ДД.ММ.ГГГГ"),a.text("ДД.ММ.ГГГГ")})});const N=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];function S(t){const e=document.createElement("div");return e.classList.add("button","button_theme_form-element-text","calendar__weekday"),e.innerHTML=t,e}function O(t,e){const n=t.find(".calendar__body");n.html("");const a=e.getFullYear(),r=e.getMonth();let o=new Date(a,r,0).getDate();const d=[];for(let t=(new Date(a,r,1).getDay()||7)-1-1;t>=0;t--)d.push(o--);d.reverse().forEach(t=>{const e=S(t);e.classList.add("calendar__weekday_another-month"),n.append(e)});const s=new Date(a,r+1,0).getDate();for(let t=1;t<=s;t++)n.append(S(t));for(let t=(new Date(a,r,s).getDay()||7)-1+1,e=1;t<=6;t++,e++){const t=S(e);t.classList.add("calendar__weekday_another-month"),n.append(t)}!function(t){const e=JSON.parse(t.attr("data-render-date")),n=Number(e.month),a=`${N[n]} ${e.year}`;t.find(".calendar__head .text.text_h2_m").text(a)}(t)}r()(".calendar").click(function(t){const e=r()(this),n=r()(t.target),a=JSON.parse(e.attr("data-render-date")),o=new Date(a.year,a.month);if(n.hasClass("calendar__head-btn-arrow")){let t=o.getMonth();"arrow_back"===n.html()?t--:t++;const a=new Date(o.getFullYear(),t);return e.attr("data-render-date",JSON.stringify({year:a.getFullYear(),month:a.getMonth()})),O(e,a),function(t){const e=JSON.parse(t.attr("data-render-date")),n=new Date;n.getMonth()===Number(e.month)&&n.getFullYear()===Number(e.year)&&t.find(".calendar__weekday:not(.calendar__weekday_another-month)").each(function(){const t=r()(this);Number(t.html())===n.getDate()&&t.addClass("calendar__weekday_current-day")})}(e),D(e),!0}return n.hasClass("calendar__weekday")&&!n.hasClass("calendar__weekday_another-month")?(function(t,e){const n=t.attr("data-select-mode");if("start"!==n&&"end"!==n)return!1;const a=JSON.parse(t.attr("data-render-date")),r=new Date(a.year,a.month,Number(e.text()));if(r<new Date((new Date).toDateString()))return!1;const o=k(t);if("start"===n){if(o.end&&r>=o.end)return!1;t.attr("data-range-day-start",x(r))}else{if(o.start){const t=new Date(o.start.toDateString());if(t.setDate(t.getDate()+1),r<t)return!1}t.attr("data-range-day-end",x(r))}}(e,n),C(e),D(e),!0):n.hasClass("calendar__button-clear")?(C(e,!0),!0):void 0})}});
//# sourceMappingURL=landing_page.js.map